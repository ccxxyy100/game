{"version":3,"sources":["assets\\Script\\views\\waterFlow.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AACA,IAAM,aAAa,GAAG,CAAC,CAAC;AAExB;;GAEG;AACH;IAA+B,6BAAW;IAA1C;QAAA,qEA8CC;QAzCW,WAAK,GAAW,EAAE,CAAC,EAAE,EAAE,CAAA;QAYvB,UAAI,GAAW,EAAE,CAAC,EAAE,EAAE,CAAC;;IA6BnC,CAAC;IA7CG,0BAAM,GAAN;QACI,IAAI,CAAC,SAAS,GAAG,aAAa,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;IAC7C,CAAC;IAED,sBAAW,2BAAI;aAAf;YACI,OAAO,IAAI,CAAC,KAAK,CAAA;QACrB,CAAC;aACD,UAAgB,GAAG;YACf,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YACjB,IAAI,CAAC,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;YACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;;;OAPA;IAUD;;;;;;OAMG;IACI,+BAAW,GAAlB,UAAmB,IAAY,EAAC,EAAU,EAAC,GAAU,EAAC,MAAc,EAAC,UAAmB;QAEpF,IAAI,CAAC,KAAK,EAAE,CAAC;QAEb,IAAI,IAAI,GAAa,IAAI,CAAA;QACzB,IAAG,MAAM,EAAC;YACN,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;SAClB;aAAI;YACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;SACpB;QACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;QACpC,IAAI,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC;aAClB,GAAG,CAAC,EAAC,IAAI,EAAC,IAAI,EAAC,CAAC;aAChB,EAAE,CAAC,GAAG,EAAC,EAAC,IAAI,EAAC,EAAE,EAAC,CAAC;aACjB,IAAI,CAAC,UAAU,CAAC;aAChB,KAAK,EAAE,CAAC;IACjB,CAAC;IAEM,gCAAY,GAAnB,UAAoB,KAAY;QAC5B,IAAI,CAAC,SAAS,GAAG,aAAa,GAAC,KAAK,CAAC;IACzC,CAAC;IACL,gBAAC;AAAD,CA9CA,AA8CC,CA9C8B,EAAE,CAAC,QAAQ,GA8CzC;AA9CY,8BAAS","file":"","sourceRoot":"/","sourcesContent":["\r\nconst dft_lingWidth = 6;\r\n\r\n/**\r\n * 倾倒的水流\r\n */\r\nexport class WaterFlow extends cc.Graphics{\r\n    onLoad(){\r\n        this.lineWidth = dft_lingWidth;\r\n        this.lineCap = cc.Graphics.LineCap.ROUND;\r\n    }\r\n    private _toPt:cc.Vec2 = cc.v2()\r\n    public get toPt(){\r\n        return this._toPt\r\n    }\r\n    public set toPt(val){\r\n        this._toPt = val;\r\n        this.clear();\r\n        this.moveTo(this.from.x,this.from.y)\r\n        this.lineTo(this._toPt.x,this._toPt.y);\r\n        this.stroke();\r\n    }\r\n\r\n    private from:cc.Vec2 = cc.v2();\r\n    /**\r\n     * 倒水水流动画\r\n     * @param from \r\n     * @param to \r\n     * @param dur \r\n     * @param isTail 开始出水false，最后一束水true\r\n     */\r\n    public playFlowAni(from:cc.Vec2,to:cc.Vec2,dur:number,isTail:boolean,onComplete:Function){\r\n        \r\n        this.clear();\r\n        \r\n        let flow:WaterFlow = this\r\n        if(isTail){\r\n            this.from = to;\r\n        }else{\r\n            this.from = from;\r\n        }\r\n        this.moveTo(this.from.x,this.from.y)\r\n        let tw = cc.tween(flow)\r\n            .set({toPt:from})\r\n            .to(dur,{toPt:to})\r\n            .call(onComplete)\r\n            .start();\r\n    }\r\n\r\n    public setLineScale(scale:number){\r\n        this.lineWidth = dft_lingWidth*scale;\r\n    }\r\n}"]}