{"version":3,"sources":["assets\\Script\\global_node.ts"],"names":[],"mappings":";;;;;;;;AACA,YAAY;AACZ,IAAY,eAIX;AAJD,WAAY,eAAe;IACvB,sCAAmB,CAAA;IACnB,wCAAqB,CAAA;IACrB,sDAAmC,CAAA;AACvC,CAAC,EAJW,eAAe,GAAf,uBAAe,KAAf,uBAAe,QAI1B;AAED,IAAI,MAAM;IACN,GAAC,eAAe,CAAC,OAAO,IAAI,CAAC;IAC7B,GAAC,eAAe,CAAC,QAAQ,IAAI,CAAC;IAC9B,GAAC,eAAe,CAAC,eAAe,IAAI,CAAC;OAExC,CAAA;AAGD,IAAI,WAAW,GAAW,IAAI,CAAC;AAC/B;;GAEG;AACH,SAAgB,aAAa,CAAC,IAAoB,EAAC,MAA2B;IAA3B,uBAAA,EAAA,SAAiB,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC;IAC1E,IAAG,WAAW,IAAE,IAAI,EAAC;QACjB,WAAW,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACzC,WAAW,CAAC,MAAM,GAAG,GAAG,CAAC;QACzB,IAAG,CAAC,SAAS,EAAC;YACV,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;SAC3C;KACJ;IACD,IAAI,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;IAEpC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACjC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,GAAC,CAAC,EAAC,IAAI,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;IAEpD,IAAI,GAAG,GAAG,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IAC3C,IAAG,CAAC,GAAG,EAAC;QACJ,GAAG,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACxB,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,IAAE,CAAC,CAAC;QAC7B,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;KAC7B;IACD,GAAG,CAAC,QAAQ,GAAG,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IAC7B,OAAO,GAAG,CAAC;AACf,CAAC;AArBD,sCAqBC","file":"","sourceRoot":"/","sourcesContent":["\r\n///全局常驻节点的枚举\r\nexport enum GlobalNodeNames{\r\n    PopuMgr = \"PopuMgr\",\r\n    SoundMgr = \"SoundMgr\",\r\n    GlobalScheduler = \"GlobalScheduler\",//全局定时器\r\n}\r\n\r\nlet zOrder = {\r\n    [GlobalNodeNames.PopuMgr] : 1,\r\n    [GlobalNodeNames.SoundMgr] : 2,\r\n    [GlobalNodeNames.GlobalScheduler] : 3,\r\n    \r\n}\r\n\r\n\r\nlet _globalNode:cc.Node = null;\r\n/**\r\n * 获得或者生成常驻节点\r\n */\r\nexport function getGlobalNode(type:GlobalNodeNames,offset:cc.Vec2 = cc.v2(0,0)){\r\n    if(_globalNode==null){\r\n        _globalNode = new cc.Node(\"_globalNode\");\r\n        _globalNode.zIndex = 100;\r\n        if(!CC_EDITOR){\r\n            cc.game.addPersistRootNode(_globalNode);\r\n        }\r\n    }\r\n    let size = cc.view.getVisibleSize();\r\n\r\n    _globalNode.setContentSize(size);\r\n    _globalNode.setPosition(size.width/2,size.height/2);\r\n    \r\n    let ret = _globalNode.getChildByName(type);\r\n    if(!ret){\r\n        ret = new cc.Node(type);\r\n        ret.zIndex = zOrder[type]||0;\r\n        _globalNode.addChild(ret);\r\n    }\r\n    ret.position = cc.v3(offset);\r\n    return ret;\r\n}"]}